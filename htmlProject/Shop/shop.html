<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200..900&family=Playwrite+HR+Lijeva:wght@100..400&display=swap"
        rel="stylesheet">
    <title>Document</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Inconsolata';
        }

        body {
            background-color: #f8f8f8;
            color: #333;
        }

        .container1 {
            max-width: 1200px;
            margin: 2em auto;
            text-align: center;
        }

        .container1 h1 {
            font-size: 3rem;
            color: #6d6a75;
            margin-bottom: 1em;
        }

        .container2 {
            display: flex;
            flex-wrap: wrap;
            gap: 2em;
            justify-content: center;
        }

        .item {
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            width: 300px;
            padding: 1em;
        }

        .item img {
            width: 100%;
            border-radius: 15px 15px 0 0;
        }

        .item h2 {
            font-size: 1.8rem;
            color: #6d6a75;
            margin: 0.5em 0;
        }

        .item p {
            font-size: 1.4rem;
            color: #333;
        }

        .item-year {
            font-size: 1.2rem;
            color: #999;
            margin-top: 0.5em;
        }

        .dropdown-item:hover {
            background-color: #e0e0e0;
        }

        .btn-primary {
            background-color: #c8a2c8;
            border: none;
            color: #fff;
        }

        .btn-primary:hover {
            background-color: #b089b0;
        }

        img {
            height: 13em;
            width: 9em;
        }
    </style>
</head>

<body>
    <script src="shop.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <div class="container1">
        <h1>Welcome to our social store</h1>
        <br>
        <h3>Value of the store is: </h3>
        <div class="dropdown">
            <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
                data-bs-toggle="dropdown" aria-expanded="false">
                more
            </a>
            <div class="mb-3">
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <li><a class="dropdown-item" id="yourBill">Need to pay: 0$</a></li>
                    <li><a class="dropdown-item" target="here1" onclick="addProductToShop()" style="cursor:pointer">Add
                            product</a></li>
                </ul>
            </div>
        </div>

        <div class="container2">
        </div>
    </div>

    <script>
        let sonyProducts = [
            new Product(
                "Sony PlayStation 1",
                1994,
                "Revolutionized gaming with 3D graphics and CD-ROM support.",
                299.99,
                "ImgsShop/imgs/1b531737a633c3b8abc187760bb8023e.png"
            ),
            new Product(
                "Sony PlayStation 2",
                2000,
                "Best-selling console with DVD playback and backward compatibility.",
                299.99,
                "ImgsShop/imgs/playstation-ps1-1647871148.jpg"
            ),
            new Product(
                "Sony PlayStation 3",
                2006,
                "Powered by a Cell processor and introduced Blu-ray support.",
                499.99,
                "ImgsShop/imgs/sony3.png"
            ),
            new Product(
                "Sony PlayStation 4",
                2013,
                "Improved graphics and social features, fastest-selling console.",
                399.99,
                "ImgsShop/imgs/sony4.jpg"
            ),
            new Product(
                "Sony PlayStation 5",
                2020,
                "Cutting-edge hardware with haptic feedback and adaptive triggers.",
                499.99,
                "ImgsShop/imgs/sony5.png"
            ),
            new Product(
                "Sony Walkman",
                1979,
                "Revolutionized portable music players with cassette tapes.",
                149.99,
                "ImgsShop/imgs/walkman.jpg"
            ),
            new Product(
                "Sony Cyber-shot RX100",
                2012,
                "Compact digital camera with excellent image quality and performance.",
                999.99,
                "ImgsShop/imgs/sonyCamera.jpg"
            ),
            new Product(
                "Sony Bravia OLED A9G",
                2019,
                "High-end OLED TV with stunning picture quality and Acoustic Surface Audio+.",
                2499.99,
                "ImgsShop/imgs/sonyTv.jpg"
            ),
        ];

        var cart = new Cart();

        function getLoad() {
            document.querySelector(".container1").innerHTML = `
            <div class="container1">
                        <h1 id="tite">Welcome to our social store</h1>
                        <br>
                            <h3>Value of the store is: ${cart.getValueOfAllTheStore(...sonyProducts)}</h3>
                        <div class="dropdown">
                        <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
                        data-bs-toggle="dropdown" aria-expanded="false">
                            more
                            </a>
                        <div class="mb-3">
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                            <li><a class="dropdown-item" id="yourBill">Need to pay: 0$</a></li>
                            <li><a class="dropdown-item" style="cursor:pointer" onclick="addProductToShop()">Add product</a></li>
                        </ul>
                        </div>
                        </div>

                    <div class="container2">
                    </div>
            </div>
            `;
            for (let i = 0; i < sonyProducts.length; i++) {
                document.querySelector(".container2").innerHTML += `
                    <div class="m-3">
                        <div class="card" style="width: 18rem;">
                            <img src="${sonyProducts[i].getSrc}" class="card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">${sonyProducts[i].getName}</h5>
                                <h5 class="card-title">Year: <b>${sonyProducts[i].getYear}</b></h5>
                                <p class="card-text">${sonyProducts[i].getDesc}</p>
                                <a onclick="addToBill(${i})" class="btn btn-primary">${sonyProducts[i].getPrice} $</a>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        function addToBill(index) {
            cart.addToCart(sonyProducts[index]);
            console.log(cart.getSum)
            document.getElementById("yourBill").textContent = `Need to pay: ${Math.ceil(cart.getSum)} $`;
        }

        function addProductToShop() {
            document.querySelector(".container1").innerHTML = `
            <h1>Add Product</h1>
            <div class="container">
                <div class="row">
                    <div class="col-12 d-flex justify-content-start mb-3">
                        <button onclick="getLoad()" class="btn btn-primary">Give up</button>
                    </div>
                <div class="col-12 col-md-6 mb-3">
                    <input class="name form-control" type="text" placeholder="Name">
                </div>
                <div class="col-12 col-md-6 mb-3">
                    <input class="year form-control" type="number" placeholder="Year">
                </div>
                <div class="col-12 col-md-6 mb-3">
                    <textarea class="description form-control" rows="3" placeholder="Describe your product"></textarea>
                </div>
                <div class="col-12 col-md-6 mb-3">
                    <input class="price form-control" type="number" placeholder="Price">
                </div>
                <div class="col-12 col-md-6 mb-3">
                    <input class="image form-control" type="url" placeholder="Image src">
                </div>
                <div class="col-12 col-md-6">
                    <button onclick="addToArr()" class="btn btn-primary">Add Product</button>
                </div>
                </div>
        </div>
        <div class="container2"></div>
            `;
        }

        function addToArr() {
            let name = document.querySelector('.name').value;
            let year = document.querySelector('.year').value;
            let description = document.querySelector('.description').value;
            let price = parseFloat(document.querySelector('.price').value);
            let image = document.querySelector('.image').value;

            let product = new Product(name, year, description, price, image);
            if (product.getName == undefined || product.getDesc == undefined || product.getDesc == undefined || product.getPrice == undefined || product.getSrc == undefined) {
                alert("Please enter correct data");
                clearFormFields();
            }
            else {
                sonyProducts.push(product);
                clearFormFields();
                getLoad();
            }

        }

        function clearFormFields() {
            document.querySelector('.name').value = '';
            document.querySelector('.year').value = '';
            document.querySelector('.description').value = '';
            document.querySelector('.price').value = '';
            document.querySelector('.image').value = '';
        }




        getLoad();
    </script>
</body>

</html>